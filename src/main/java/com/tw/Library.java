package com.tw;

import java.util.ArrayList;
import java.util.List;
import java.util.regex.Pattern;

/*
 * This Java source file was generated by the Gradle 'init' task.
 */
public class Library {
    private List<Score> scoreList;

    public Library() {
        this.scoreList = new ArrayList<>();
    }

    public void printMainInterface(){
        System.out.print("1. 添加学生\n" +
                "2. 生成成绩单\n" +
                "3. 退出\n" +
                "请输入你的选择（1～3）：\n");
    }

    public void printAddStudentInterface(){
        System.out.print("请输入学生信息（格式：姓名, 学号, 学科: 成绩, ...），按回车提交：\n");
    }

    public void printGenerateTranscriptInterface(){
        System.out.print("请输入要打印的学生的学号（格式： 学号, 学号,...），按回车提交：\n");
    }

    public void printAddStudentSuccess(){
        System.out.print("请输入要打印的学生的学号（格式： 学号, 学号,...），按回车提交：\n");
    }

    public void printAddStudentFail(){
        System.out.print("请输入要打印的学生的学号（格式： 学号, 学号,...），按回车提交：\n");
    }

    public boolean checkAddStudentInputFormat(String input){
        String pattern = ".+,\\d+,(.+:\\d+,)*.+:\\d+";
        boolean isMatch = Pattern.matches(pattern, input);
        return isMatch;
    }

    public boolean saveScore(String name,int number,int math,int chinese,int english,int programming){
        Score score = new Score(name,number,math,chinese,english,programming);
        scoreList.add(score);
        return true;
    }

    public void addStudent(String input){
        if(checkAddStudentInputFormat(input)){
            String[] inputStrings = input.split(",");
            String name = inputStrings[0];
            String number = inputStrings[1];
            printAddStudentSuccess();
        }else{
            printAddStudentFail();
        }
    }
}
